(()=>{"use strict";var e,a={57:()=>{const e=window.wp.blocks,a=window.wp.i18n,s=window.wp.blockEditor,t=window.ReactJSXRuntime,{Button:i}=wp.components,{MediaUpload:r,MediaUploadCheck:n}=wp.blockEditor,l=["image"];function m({mediaIDs:e,onSelect:a}){return(0,t.jsx)(n,{children:(0,t.jsx)(r,{onSelect:a,allowedTypes:l,value:e,render:({open:a})=>(0,t.jsx)(i,{onClick:a,className:"button button-large",children:e.length<1?"Upload/Select Images":"Edit"}),gallery:!0,multiple:!0})})}const o=JSON.parse('{"UU":"create-block/swap-image"}');(0,e.registerBlockType)(o.UU,{edit:function({attributes:e,setAttributes:l}){const o=(0,s.useBlockProps)(),d=300,c=e.images.length,u=d,h=360/c,p=u*Math.cos(w(h))+150,g=u*Math.sin(w(h))+150,k=u*Math.cos(w(0))+150,b=u*Math.sin(w(0))+150;function w(e){return e*Math.PI/180}return(0,t.jsxs)("div",{...o,children:[e.images.length>=1&&(e.maskID?(0,t.jsx)(n,{children:(0,t.jsx)(i,{onClick:()=>{l({maskID:0,mask:""})},isDestructive:!0,children:(0,a.__)("Remove Mask","awp")})}):(0,t.jsx)(n,{children:(0,t.jsx)(r,{allowedTypes:["image"],onSelect:e=>{l({maskID:parseInt(e.id,10),mask:e.url})},render:({open:a})=>(0,t.jsx)(i,{className:(e.maskID,""),onClick:a,children:"Add Mask"})})})),(0,t.jsx)("div",{className:"swap mask",style:e.mask?{maskImage:"url("+e.mask+")"}:{},children:e.images.length>=1?(0,t.jsx)("svg",{width:d,height:d,viewbox:"-150 -150 300 "+d,xmlns:"http://www.w3.org/2000/svg",children:e.images.map(((e,a)=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("mask",{id:"mask-"+a,children:(0,t.jsx)("path",{d:"M "+p+" "+g+" A "+u+" "+u+" 0 0 0 "+k+" "+b+"L 150 150",style:{fill:"white",transform:"rotate("+360/c*a+"deg)",transformOrigin:"50% 50%"}})}),(0,t.jsx)("image",{mask:"url(#mask-"+a+")",href:e.thumbnail||e.mediaURL,height:d,width:d,preserveAspectRatio:"xMinYMin slice"})]})))}):(0,t.jsx)("p",{children:"Click the button and add some images to your slider! :)"})}),(0,t.jsx)(m,{mediaIDs:e.images.map((e=>e.mediaID)),onSelect:e=>{l({images:e.map((e=>({mediaID:parseInt(e.id,10),mediaURL:e.url,thumbnail:e.url})))})}}),e.images.length>=1&&(0,t.jsx)(n,{children:(0,t.jsx)(i,{onClick:()=>{l({images:[]})},isDestructive:!0,children:(0,a.__)("Remove Images","awp")})})]})},save:function({attributes:e}){if(e.images.length<1)return null;const a=s.useBlockProps.save({className:"swap"});return(0,t.jsxs)("div",{...a,children:[e.maskID>0&&(0,t.jsx)("img",{className:"mask",src:e.mask,"data-id":e.maskID}),e.images.map((e=>(0,t.jsx)("div",{className:"swap-image","data-id":e.mediaID,children:(0,t.jsx)("img",{src:e.mediaURL,"data-id":e.mediaID,"data-thumb":e.thumbnail})},"image-"+e.mediaID)))]})},attributes:{mask:{type:"string",default:""},maskID:{type:"number",default:0},images:{type:"array",selector:".swap-image",default:[],query:{mediaID:{type:"number",source:"attribute",attribute:"data-id",selector:"img"},mediaURL:{type:"string",source:"attribute",attribute:"src",selector:"img"},thumbnail:{type:"string",source:"attribute",attribute:"data-thumb",selector:"img"}}}}})}},s={};function t(e){var i=s[e];if(void 0!==i)return i.exports;var r=s[e]={exports:{}};return a[e](r,r.exports,t),r.exports}t.m=a,e=[],t.O=(a,s,i,r)=>{if(!s){var n=1/0;for(d=0;d<e.length;d++){for(var[s,i,r]=e[d],l=!0,m=0;m<s.length;m++)(!1&r||n>=r)&&Object.keys(t.O).every((e=>t.O[e](s[m])))?s.splice(m--,1):(l=!1,r<n&&(n=r));if(l){e.splice(d--,1);var o=i();void 0!==o&&(a=o)}}return a}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[s,i,r]},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={571:0,787:0};t.O.j=a=>0===e[a];var a=(a,s)=>{var i,r,[n,l,m]=s,o=0;if(n.some((a=>0!==e[a]))){for(i in l)t.o(l,i)&&(t.m[i]=l[i]);if(m)var d=m(t)}for(a&&a(s);o<n.length;o++)r=n[o],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(d)},s=globalThis.webpackChunkswap_image=globalThis.webpackChunkswap_image||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))})();var i=t.O(void 0,[787],(()=>t(57)));i=t.O(i)})();