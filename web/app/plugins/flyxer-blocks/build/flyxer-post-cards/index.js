(()=>{"use strict";var e,t={216:()=>{const e=window.wp.blocks,t=window.wp.i18n,a=window.wp.blockEditor,s=window.wp.data,l=(window.React,window.wp.components),r=window.ReactJSXRuntime,o=JSON.parse('{"UU":"flyxer/postcard"}');(0,e.registerBlockType)(o.UU,{edit:function({attributes:e,setAttributes:o}){const i=(0,a.useBlockProps)(),n=(0,s.useSelect)((e=>e("core").getEntityRecords("taxonomy","category"))),c=(0,s.useSelect)((e=>e("core").getEntityRecords("taxonomy","post_tag"))),d=(0,s.useSelect)((e=>e("core").getPostTypes({per_page:20}))),p=d&&d.filter((e=>e.viewable));let u=e.size||"small",g=e.rows||1,m=e.excerpt_length||15,x=e.postType||"post",h={per_page:3*g};e.categories_selected&&(h.categories=e.categories_selected),e.tags_selected&&(h.tags=e.tags_selected);const _=(0,s.useSelect)((e=>e("core").getEntityRecords("postType",x,h)));return console.log(_),_&&_.map(((e,t)=>{e&&e.featured_media&&(_[t].featured_image=(0,s.select)("core").getEntityRecord("postType","attachment",e.featured_media))})),(0,r.jsxs)("div",{...i,children:[(0,r.jsx)(a.InspectorControls,{children:(0,r.jsxs)(l.PanelBody,{title:(0,t.__)("Settings","flyxer-blocks"),children:[(0,r.jsx)(l.TextControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,t.__)("Overskrift"),value:e.title||"",onChange:e=>o({title:e})}),(0,r.jsx)(l.SelectControl,{label:"Størrelse",value:e.size,options:[{label:"Liten",value:"small"},{label:"Høy",value:"tall"}],onChange:e=>o({size:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),p&&(0,r.jsx)(l.SelectControl,{value:e.postType,label:(0,t.__)("Post type"),options:p.map((({slug:e,name:t})=>({label:t,value:e}))),onChange:e=>{o({postType:e})}}),n&&(0,r.jsx)(l.SelectControl,{multiple:!0,value:e.categories_selected,label:(0,t.__)("Kategori"),options:n.map((({id:e,name:t})=>({label:t,value:e}))),onChange:e=>{o({categories_selected:e})}}),(0,r.jsx)("a",{onClick:function(e){e.preventDefault,o({categories_selected:[]})},children:"Tøm kategorier"}),c&&(0,r.jsx)(l.SelectControl,{multiple:!0,value:e.tags_selected,label:(0,t.__)("Tag"),options:c.map((({id:e,name:t})=>({label:t,value:e}))),onChange:e=>{o({tags_selected:e})}}),(0,r.jsx)("a",{onClick:function(e){e.preventDefault,o({tags_selected:[]})},children:"Tøm stikkord"}),(0,r.jsx)(l.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:"Columns",value:g,onChange:e=>o({rows:e}),min:1,max:30}),(0,r.jsx)(l.RangeControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:"Sammendrag ord",value:m,onChange:e=>o({excerpt_length:e}),min:10,max:50})]})}),(0,r.jsxs)("div",{className:"block_post_card "+u,children:[e.title&&(0,r.jsx)("h2",{children:e.title}),_&&_.map(((e,t)=>(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("figure",{children:e.featured_image&&(0,r.jsx)("img",{src:e.featured_image.source_url})}),(0,r.jsxs)("span",{className:"text",children:[(0,r.jsxs)("span",{className:"title",children:["tall"==u&&(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-move-right",children:[(0,r.jsx)("path",{d:"M18 8L22 12L18 16"}),(0,r.jsx)("path",{d:"M2 12H22"})]}),e.title.rendered]}),"small"==u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"summary",children:[...Array(m)].map(((t,a)=>e.excerpt.rendered.split(" ")[a])).join(" ")}),(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-move-right",children:[(0,r.jsx)("path",{d:"M18 8L22 12L18 16"}),(0,r.jsx)("path",{d:"M2 12H22"})]})]})]})]},t))),e.categories_selected.map((e=>(0,r.jsx)("div",{className:"category","data-id":e}))),e.tags_selected.map((e=>(0,r.jsx)("div",{className:"tag","data-id":e})))]})]})},save:function({attributes:e}){const t=a.useBlockProps.save({className:"flyxer-cta"});return(0,r.jsxs)("div",{...t,children:[e.categories_selected.map((e=>(0,r.jsx)("div",{className:"category","data-id":e,children:e}))),e.tags_selected.map((e=>(0,r.jsx)("div",{className:"tag","data-id":e,children:e})))]})},supports:{alignWide:!0},attributes:{size:{type:"string",default:""},title:{type:"string",default:""},rows:{type:"number",default:1},excerpt_length:{type:"number",default:15},postType:{type:"string",default:"post"},categories_selected:{type:"array",default:[],selector:".category",query:{value:{type:"number",source:"attribute",attribute:"data-id"}}},tags_selected:{type:"array",default:[],selector:".tag",query:{value:{type:"number",source:"attribute",attribute:"data-id"}}}}})}},a={};function s(e){var l=a[e];if(void 0!==l)return l.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,s),r.exports}s.m=t,e=[],s.O=(t,a,l,r)=>{if(!a){var o=1/0;for(d=0;d<e.length;d++){for(var[a,l,r]=e[d],i=!0,n=0;n<a.length;n++)(!1&r||o>=r)&&Object.keys(s.O).every((e=>s.O[e](a[n])))?a.splice(n--,1):(i=!1,r<o&&(o=r));if(i){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,l,r]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={473:0,509:0};s.O.j=t=>0===e[t];var t=(t,a)=>{var l,r,[o,i,n]=a,c=0;if(o.some((t=>0!==e[t]))){for(l in i)s.o(i,l)&&(s.m[l]=i[l]);if(n)var d=n(s)}for(t&&t(a);c<o.length;c++)r=o[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},a=globalThis.webpackChunkswap_image=globalThis.webpackChunkswap_image||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var l=s.O(void 0,[509],(()=>s(216)));l=s.O(l)})();